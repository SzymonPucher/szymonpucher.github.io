---
interface Props {
  labels: {
    sources: string;
    datalake: string;
    workflows: string;
    rdbms: string;
    nosql: string;
    csv: string;
    msgbus: string;
    reporting: string;
    observability: string;
    user: string;
    analyst: string;
    analystReads: string;
    analystBuilds: string;
    userConsumes: string;
    workflowConsumes: string;
    workflowProduces: string;
    catalogue: string;
    quality: string;
    lineage: string;
    selfService: string;
    accessControl: string;
    dataOnboarding: string;
    dataRegistration: string;
    dataVisualization: string;
  }
}

const { labels } = Astro.props;
---

<style>
    /* Scoped variables for this component to handle the RGB triplet issue */
    .diagram-wrapper {
        /* Force Light/Default Theme to match global.css */
        --c-gray-dark: rgb(var(--gray-dark));
        --c-gray: rgb(var(--gray));
        --c-gray-light: rgb(var(--gray-light));
        --c-accent: var(--accent);
        --c-accent: var(--accent-dark);
        --c-white: #ffffff;
        --c-bg: #ffffff;
        
        width: 100%;
        margin: 2rem 0;
        background: var(--c-bg);
        border: 1px solid var(--c-gray-light);
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        overflow: hidden;
    }

    .uml-svg {
        width: 100%;
        height: auto;
        display: block;
        font-family: 'Fira Code', 'Consolas', monospace;
    }

    .arrow-label {
        font-size: 9px;
        fill: var(--c-gray-dark);
        font-style: italic;
    }
</style>

<div class="diagram-wrapper fade-in delay-2">
  <svg viewBox="0 0 1050 450" xmlns="http://www.w3.org/2000/svg" class="uml-svg">
    <defs>
      <marker id="arrowFilled" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
         <path d="M0,0 L7,3 L0,6 L0,0" fill="var(--c-gray-dark)" />
      </marker>
      <marker id="dotFilled" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
         <circle cx="4" cy="4" r="3" fill="var(--c-gray-light)" />
      </marker>
      <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
        <path d="M 20 0 L 0 0 0 20" fill="none" stroke="var(--c-gray-light)" stroke-width="0.5" opacity="0.5"/>
      </pattern>
    </defs>

    <!-- Background Grid -->
    <rect width="100%" height="100%" fill="url(#grid)" />

    <!-- 0. OBSERVABILITY LAYER (Top spanning) -->
    <g transform="translate(30, 20)">
        <rect width="980" height="60" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5" stroke-dasharray="4,2"/>
        
        <!-- Scanning Beam Animation -->
        <rect x="0" y="2" width="40" height="56" fill="var(--c-accent)" opacity="0.1">
            <animate attributeName="x" values="0;940;0" dur="8s" repeatCount="indefinite" />
        </rect>
        
        <text x="490" y="18" text-anchor="middle" font-weight="bold" font-size="14" fill="var(--c-gray-dark)">« {labels.observability} »</text>
        
        <!-- Sub-rectangles -->
        <g transform="translate(40, 30)">
            <rect width="140" height="20" rx="2" fill="var(--c-white)" stroke="var(--c-gray-light)" stroke-width="1"/>
            <text x="70" y="14" text-anchor="middle" font-size="10" fill="var(--c-gray-dark)">{labels.catalogue}</text>
        </g>
        <g transform="translate(230, 30)">
            <rect width="140" height="20" rx="2" fill="var(--c-white)" stroke="var(--c-gray-light)" stroke-width="1"/>
            <text x="70" y="14" text-anchor="middle" font-size="10" fill="var(--c-gray-dark)">{labels.accessControl}</text>
        </g>
        <g transform="translate(420, 30)">
            <rect width="140" height="20" rx="2" fill="var(--c-white)" stroke="var(--c-gray-light)" stroke-width="1"/>
            <text x="70" y="14" text-anchor="middle" font-size="10" fill="var(--c-gray-dark)">{labels.quality}</text>
        </g>
        <g transform="translate(610, 30)">
            <rect width="140" height="20" rx="2" fill="var(--c-white)" stroke="var(--c-gray-light)" stroke-width="1"/>
            <text x="70" y="14" text-anchor="middle" font-size="10" fill="var(--c-gray-dark)">{labels.lineage}</text>
        </g>
        <g transform="translate(800, 30)">
            <rect width="140" height="20" rx="2" fill="var(--c-white)" stroke="var(--c-gray-light)" stroke-width="1"/>
            <text x="70" y="14" text-anchor="middle" font-size="10" fill="var(--c-gray-dark)">{labels.selfService}</text>
        </g>

        <!-- Monitoring Connections (Dashed vertical lines down with pulse animation) -->
        <g>
            <!-- To Sources -->
            <line x1="80" y1="60" x2="80" y2="100" stroke="var(--c-gray-light)" stroke-width="1" stroke-dasharray="2,2"/>
            
            <circle cx="80" cy="60" r="2" fill="var(--c-accent)">
                <animate attributeName="cy" from="60" to="100" dur="3s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0" dur="3s" repeatCount="indefinite" />
            </circle>

            <!-- To Ingestion Edge (Sources -> Platform) -->
            <line x1="220" y1="60" x2="220" y2="125" stroke="var(--c-gray-light)" stroke-width="1" stroke-dasharray="2,2"/>
            
            <circle cx="220" cy="60" r="2" fill="var(--c-accent)">
                <animate attributeName="cy" from="60" to="125" dur="4s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0" dur="4s" repeatCount="indefinite" />
            </circle>
        </g>

        <g>
            <!-- To Platform -->
            <line x1="360" y1="60" x2="360" y2="150" stroke="var(--c-gray-light)" stroke-width="1" stroke-dasharray="2,2"/>
            
            <circle cx="360" cy="60" r="2" fill="var(--c-accent)">
                <animate attributeName="cy" from="60" to="150" dur="3s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0" dur="3s" repeatCount="indefinite" />
            </circle>
            
            <!-- To Egress Edge (Platform -> Reporting) -->
            <line x1="500" y1="60" x2="500" y2="150" stroke="var(--c-gray-light)" stroke-width="1" stroke-dasharray="2,2" opacity="0.6"/>

            <circle cx="500" cy="60" r="2" fill="var(--c-accent)">
                <animate attributeName="cy" from="60" to="150" dur="4.5s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0" dur="4.5s" repeatCount="indefinite" />
            </circle>
        </g>

        <g>
            <!-- To Reporting -->
            <line x1="640" y1="60" x2="640" y2="140" stroke="var(--c-gray-light)" stroke-width="1" stroke-dasharray="2,2"/>
            
            <circle cx="640" cy="60" r="2" fill="var(--c-accent)">
                <animate attributeName="cy" from="60" to="140" dur="3s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0" dur="3s" repeatCount="indefinite" />
            </circle>
            
            <!-- To Consumption Edge (Reporting -> User) -->
            <line x1="775" y1="60" x2="775" y2="140" stroke="var(--c-gray-light)" stroke-width="1" stroke-dasharray="2,2"/>
            
            <circle cx="775" cy="60" r="2" fill="var(--c-accent)">
                <animate attributeName="cy" from="60" to="140" dur="3s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0" dur="3s" repeatCount="indefinite" />
            </circle>
        </g>
    </g>


    <!-- 1. DATA PRODUCERS -->
    <g transform="translate(30, 120)">
        <rect x="0" y="0" width="160" height="320" fill="none" stroke="var(--c-gray)" stroke-width="1" stroke-dasharray="4,4" />
        <path d="M0,0 L160,0 L160,25 L0,25 Z" fill="var(--c-gray-light)" opacity="0.5" />
        <text x="80" y="17" text-anchor="middle" font-size="12" font-weight="bold" fill="var(--c-gray-dark)">{labels.sources}</text>
        
        <g transform="translate(20, 40)"><rect width="120" height="50" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5"/><text x="60" y="30" text-anchor="middle" font-weight="bold" font-size="12" fill="var(--c-gray-dark)">{labels.rdbms}</text></g>
        <g transform="translate(20, 110)"><rect width="120" height="50" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5"/><text x="60" y="30" text-anchor="middle" font-weight="bold" font-size="12" fill="var(--c-gray-dark)">{labels.nosql}</text></g>
        <g transform="translate(20, 180)"><rect width="120" height="50" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5"/><text x="60" y="30" text-anchor="middle" font-weight="bold" font-size="12" fill="var(--c-gray-dark)">{labels.csv}</text></g>
        <g transform="translate(20, 250)"><rect width="120" height="50" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5"/><text x="60" y="30" text-anchor="middle" font-weight="bold" font-size="12" fill="var(--c-gray-dark)">{labels.msgbus}</text></g>
    </g>


    <!-- 2. DATA PLATFORM (Updated: Smaller Storage, Renamed) -->
    <g transform="translate(250, 120)">
        
        <!-- SUB-SYSTEM: STORAGE (Smaller) -->
        <g transform="translate(50, 40)">
             <rect width="180" height="80" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5"/>
             <text x="90" y="35" text-anchor="middle" font-weight="bold" font-size="14" fill="var(--c-gray-dark)">
                 <tspan x="90" dy="0">Data Storage &amp;</tspan>
                 <tspan x="90" dy="20">Data Virtualization</tspan>
             </text>
        </g>

        <!-- SUB-SYSTEM: COMPUTE (Moved up) -->
        <g transform="translate(50, 180)">
             <!-- Clip Path for internal effects -->
             <defs>
                 <clipPath id="computeClip">
                     <rect width="180" height="60" rx="4" />
                 </clipPath>
             </defs>
             
             <rect width="180" height="60" rx="4" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5">
                 <animate attributeName="stroke" values="var(--c-gray-dark);var(--c-gray-dark);var(--c-accent);var(--c-gray-dark);var(--c-gray-dark)" keyTimes="0;0.375;0.5;0.625;1" dur="2s" begin="2s"  repeatCount="indefinite" />
                 <animate attributeName="stroke-width" values="1.5;1.5;3;1.5;1.5" keyTimes="0;0.375;0.5;0.625;1" dur="2s" begin="2s" repeatCount="indefinite" />
             </rect>
             
             <!-- Scan Line Effect -->
             <g clip-path="url(#computeClip)">
                 <rect x="-20" y="0" width="20" height="60" fill="var(--c-accent)" opacity="0">
                     <animate attributeName="x" begin="2.2s" values="-20;-20;200;200" keyTimes="0;0.250;0.750;1" dur="2s" repeatCount="indefinite" />
                     <animate attributeName="opacity" begin="2.2s" values="0;0;0.3;0;0" keyTimes="0;0.250;0.5;0.750;1" dur="2s" repeatCount="indefinite" />
                 </rect>
             </g>

             <text x="90" y="35" text-anchor="middle" font-weight="bold" font-size="14" fill="var(--c-gray-dark)">{labels.workflows}</text>
        </g>

        <!-- Vertical Bi-directional Arrows (Adjusted) -->
        

        
        
    </g>


    <!-- 3. REPORTING LAYER -->
    <g transform="translate(580, 150)">
        <rect width="180" height="60" rx="8" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1.5"/>
        <text x="90" y="35" text-anchor="middle" font-weight="bold" font-size="14" fill="var(--c-gray-dark)">{labels.reporting}</text>
    </g>


    <!-- 4. BUSINESS USER -->
    <g transform="translate(845, 140)">
        <rect x="14" y="-10" width="100" height="120" fill="none" stroke="var(--c-gray)" stroke-width="1" />
        <g transform="translate(45, 0)">
            <circle cx="20" cy="10" r="10" fill="none" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="20" y1="20" x2="20" y2="50" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="0" y1="30" x2="40" y2="30" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="20" y1="50" x2="5" y2="80" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="20" y1="50" x2="35" y2="80" stroke="var(--c-gray-dark)" stroke-width="2" />
        </g>
        <text x="65" y="100" text-anchor="middle" font-weight="bold" font-size="12" fill="var(--c-gray-dark)">{labels.user}</text>
    </g>

    <!-- 5. ANALYST (Adjusted position) -->
    <g transform="translate(580, 260)">
        <rect x="35" y="0" width="100" height="120" fill="none" stroke="var(--c-gray)" stroke-width="1" />
        <g transform="translate(65, 10)">
            <circle cx="20" cy="10" r="10" fill="none" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="12" y1="10" x2="28" y2="10" stroke="var(--c-gray-dark)" stroke-width="1.5" />
            <line x1="20" y1="20" x2="20" y2="50" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="5" y1="35" x2="35" y2="35" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="20" y1="50" x2="5" y2="80" stroke="var(--c-gray-dark)" stroke-width="2" />
            <line x1="20" y1="50" x2="35" y2="80" stroke="var(--c-gray-dark)" stroke-width="2" />
            <rect x="25" y="30" width="20" height="14" fill="var(--c-white)" stroke="var(--c-gray-dark)" stroke-width="1" />
        </g>
        <text x="85" y="110" text-anchor="middle" font-weight="bold" font-size="12" fill="var(--c-gray-dark)">{labels.analyst}</text>
    </g>


    <!-- CONNECTIONS: REPORTING -> USER -->
    <path id="pathUser" d="M760,180 L860,180" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.2" marker-end="url(#arrowFilled)"/>
    <text x="770" y="170" class="arrow-label">{labels.userConsumes}</text>
    <path fill="var(--c-accent)" opacity="0">
        <animate attributeName="d" values="M0,-4 L4,0 L0,4 L-4,0 Z; M-3,-3 L3,-3 L3,3 L-3,3 Z; M0,-4 L4,3 L-4,3 Z" keyTimes="0;0.33;0.66" dur="6s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" repeatCount="indefinite" path="M760,180 L851,180" />
        <animate attributeName="opacity" values="1;1;0" keyTimes="0;0.99;0.99" dur="2s" calcMode="discrete" repeatCount="indefinite" />
    </path>


    <!-- CONNECTIONS: PLATFORM (Storage) -> REPORTING -->
    <path id="pathReporting" d="M480,180 L580,180" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.2" marker-end="url(#arrowFilled)"/>
    <text x="485" y="170" class="arrow-label">{labels.dataVisualization}</text>
    <path fill="var(--c-accent)"  opacity="0">
        <animate attributeName="d" begin="0.02s" values="M-3,-3 L3,-3 L3,3 L-3,3 Z; M0,-4 L4,3 L-4,3 Z; M0,-4 L4,0 L0,4 L-4,0 Z" keyTimes="0;0.33;0.66" dur="6s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" repeatCount="indefinite" path="M480,180 L570,180" />
        <animate attributeName="opacity" values="1;1;0" keyTimes="0;0;0.99" dur="2s" calcMode="discrete" repeatCount="indefinite" />
    </path>
    <path fill="var(--c-accent)" opacity="0">
        <animate attributeName="d" begin="0.32s" values="M0,-4 L4,3 L-4,3 Z; M0,-4 L4,0 L0,4 L-4,0 Z; M-3,-3 L3,-3 L3,3 L-3,3 Z" keyTimes="0;0.33;0.66" dur="18s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" begin="0.3s" repeatCount="indefinite" path="M480,180 L570,180" />
        <animate attributeName="opacity" begin="0.3s" values="1;1;0;0;0;0;1;1;1;1;1;1" keyTimes="0;0.166;0.166;0.333;0.333;0.496;0.496;0.666;0.666;0.833;0.833;1" dur="12s" calcMode="discrete" repeatCount="indefinite" />
    </path>
    <path fill="var(--c-accent)" opacity="0">
        <animate attributeName="d" begin="0.62s" values="M0,-4 L4,0 L0,4 L-4,0 Z; M-3,-3 L3,-3 L3,3 L-3,3 Z; M0,-4 L4,3 L-4,3 Z" keyTimes="0;0.33;0.66" dur="6s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" begin="0.6s" repeatCount="indefinite" path="M480,180 L570,180" />
        <animate attributeName="opacity" begin="0.6s" values="1;1;0" keyTimes="0;0;0.95" dur="2s" calcMode="discrete" repeatCount="indefinite" />
        <animate attributeName="opacity" begin="0.6s" values="1;1;0;0;0;0;0;0;0;0;0;0" keyTimes="0;0.166;0.166;0.333;0.333;0.496;0.496;0.666;0.666;0.833;0.833;1" dur="12s" calcMode="discrete" repeatCount="indefinite" />
    </path>

    <!-- CONNECTIONS: Data Storage -> Analytical Workflows -->
    <path d="M350,240 L350,300" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <text x="345" y="270" text-anchor="end" class="arrow-label">{labels.workflowConsumes}</text>
    <path fill="var(--c-accent)">
        <animate attributeName="d" begin="0.02s" values="M-3,-2 L3,-2 L3,2 L-3,2 Z; M0,-4 L4,3 L-4,3 Z; M0,-4 L4,0 L0,4 L-4,0 Z; M-2,-3.5 L2,-3.5 L4,0 L2,3.5 L-2,3.5 L-4,0 Z" keyTimes="0;0.25;0.50;0.75" dur="8s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" repeatCount="indefinite" path="M350,240 L350,290" />
    </path>
    <path fill="var(--c-accent)">
        <animate attributeName="d" begin="0.42s" values="M0,-4 L4,3 L-4,3 Z; M-3,-2 L3,-2 L3,2 L-3,2 Z; M-3,-3 L3,-3 L3,3 L-3,3 Z" keyTimes="0;0.33;0.66" dur="12s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" begin="0.4s" repeatCount="indefinite" path="M350,240 L350,290" />
    </path>
    <path fill="var(--c-accent)">
        <animate attributeName="d" begin="0.82s" values="M0,-4 L4,0 L0,4 L-4,0 Z; M-3,-3 L3,-3 L3,3 L-3,3 Z; M0,-4 L4,3 L-4,3 Z" keyTimes="0;0.33;0.66" dur="18s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="2s" begin="0.8s" repeatCount="indefinite" path="M350,240 L350,290" />
        </path>

    <!-- CONNECTIONS: Analytical Workflows -> Data Storage -->
    <path d="M430,300 L430,240" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <text x="435" y="270" text-anchor="start" class="arrow-label">{labels.workflowProduces}</text>
    
    <path fill="var(--c-accent)"  opacity="0">
        <animate attributeName="d" begin="0.5s" values="M-3,-3 L3,-3 L3,3 L-3,3 Z; M0,-4 L4,3 L-4,3 Z; M0,-4 L4,0 L0,4 L-4,0 Z; M-2,-3.5 L2,-3.5 L4,0 L2,3.5 L-2,3.5 L-4,0 Z" keyTimes="0;0.25;0.50;0.75" dur="8s" calcMode="discrete" repeatCount="indefinite" />
        <animateMotion dur="1s" begin="3.4s" repeatCount="indefinite" path="M430,300 L430,250" />
        <animate attributeName="opacity" begin="3.4s" values="1;1;0;0;1;1;0;0;1;1;0;0" keyTimes="0;0.166;0.166;0.333;0.333;0.496;0.496;0.666;0.666;0.833;0.833;1" dur="6s" calcMode="discrete" repeatCount="indefinite" />
    </path>

    <!-- CONNECTIONS: ANALYST INTERACTIONS -->
    <!-- 1. Consumes Data: Storage -> Analyst -->
    <path id="pathAnalystRead" d="M480,200 L555,200 L555,270 L615,270" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.2" marker-end="url(#arrowFilled)"/>
    <text x="590" y="250" class="arrow-label" text-anchor="middle">{labels.analystReads}</text>
    <path fill="var(--c-accent)">
        <animateMotion dur="4s" repeatCount="indefinite" path="M480,200 L555,200 L555,270 L605,270" />
        <animate attributeName="d" values="M-3,-3 L3,-3 L3,3 L-3,3 Z; M0,-4 L4,3 L-4,3 Z; M0,-4 L4,0 L0,4 L-4,0 Z; M-2,-3.5 L2,-3.5 L4,0 L2,3.5 L-2,3.5 L-4,0 Z" keyTimes="0;0.25;0.50;0.75" dur="16s" calcMode="discrete" repeatCount="indefinite" />
    </path>

    <!-- 2. Builds Compute: Analyst -> Compute -->
    <path id="pathAnalystBuildCompute" d="M615,330 L480,330" fill="none" stroke="var(--c-gray)" stroke-width="1.5" stroke-dasharray="2,2" marker-end="url(#arrowFilled)"/>
    <text x="550" y="325" class="arrow-label" text-anchor="middle">{labels.analystBuilds}</text>
    
    <!-- 3. Builds Reporting: Analyst -> Reporting -->
    <path id="pathAnalystBuildReport" d="M670,260 L670,210" fill="none" stroke="var(--c-gray)" stroke-width="1.5" stroke-dasharray="2,2" marker-end="url(#arrowFilled)"/>
    <text x="675" y="240" class="arrow-label">{labels.analystBuilds}</text>


    <!-- CONNECTIONS: SOURCES -> DATA PLATFORM (9-Lane Highway) -->
    <text x="205" y="155" class="arrow-label">{labels.dataOnboarding}</text>
    <text x="205" y="165" class="arrow-label">{labels.dataRegistration}</text>
    <!-- Lane 1 (RDBMS Top) -> y=176 -->
    <path id="highway1" d="M170,175 C225,175 225,176 300,176" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <!-- Lane 2 (RDBMS Mid) -> y=182 -->
    <path id="highway2" d="M170,185 C225,185 225,182 300,182" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <!-- Lane 3 (RDBMS Bot) -> y=188 -->
    <path id="highway3" d="M170,195 C225,195 225,188 300,188" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    
    <!-- Lane 4 (NoSQL) -> y=194 -->
    <path id="highway4" d="M170,255 C225,255 225,194 300,194" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    
    <!-- Lane 5 (CSV 1) -> y=200 -->
    <path id="highway5" d="M170,320 C225,320 225,200 300,200" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <!-- Lane 6 (CSV 2) -> y=206 -->
    <path id="highway6" d="M170,330 C225,330 225,206 300,206" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    
    <!-- Lane 7 (MsgBus 1) -> y=212 -->
    <path id="highway7" d="M170,385 C225,385 225,212 300,212" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <!-- Lane 8 (MsgBus 2) -> y=218 -->
    <path id="highway8" d="M170,395 C225,395 225,218 300,218" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>
    <!-- Lane 9 (MsgBus 3) -> y=224 -->
    <path id="highway9" d="M170,405 C225,405 225,224 300,224" fill="none" stroke="var(--c-gray-dark)" stroke-width="1.5" marker-end="url(#arrowFilled)"/>


    <!-- Animations (Highway Traffic) -->
    <!-- RDBMS Traffic -->
    <circle r="3" fill="var(--c-accent)">
        <animateMotion dur="2s" repeatCount="indefinite" path="M170,175 C225,175 225,176 300,176" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.920;0.921;1" dur="2s" repeatCount="indefinite" />
    </circle>
    <rect width="6" height="6" fill="var(--c-accent)" transform="translate(-3,-3)">
        <animateMotion dur="2.5s" begin="0.5s" repeatCount="indefinite" path="M170,185 C225,185 225,182 300,182" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.920;0.921;1" dur="2.5s" begin="0.5s" repeatCount="indefinite" />
    </rect>
    <circle r="3" fill="var(--c-accent)">
        <animateMotion dur="2.2s" begin="1s" repeatCount="indefinite" path="M170,195 C225,195 225,188 300,188" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.920;0.921;1" dur="2.2s" begin="1s" repeatCount="indefinite" />
    </circle>
    
    <!-- NoSQL Traffic -->
    <rect width="6" height="6" fill="var(--c-accent)" transform="translate(-3,-3)">
        <animateMotion dur="3s" begin="0.2s" repeatCount="indefinite" path="M170,255 C225,255 225,194 300,194" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.935;0.936;1" dur="3s" begin="0.2s" repeatCount="indefinite" />
    </rect>
    
    <!-- CSV Traffic -->
    <circle r="3" fill="var(--c-accent)">
        <animateMotion dur="3.5s" begin="0.7s" repeatCount="indefinite" path="M170,320 C225,320 225,200 300,200" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.945;0.951;1" dur="3.5s" begin="0.7s" repeatCount="indefinite" />
    </circle>
    <rect width="6" height="4" fill="var(--c-accent)" transform="translate(-3,-2)">
        <animateMotion dur="4s" begin="1.2s" repeatCount="indefinite" path="M170,330 C225,330 225,206 300,206" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.945;0.951;1" dur="4s" begin="1.2s" repeatCount="indefinite" />
    </rect>
    
    <!-- MsgBus Traffic -->
    <circle r="3" fill="var(--c-accent)">
        <animateMotion dur="2.8s" begin="0.3s" repeatCount="indefinite" path="M170,385 C225,385 225,212 300,212" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.955;0.956;1" dur="2.8s" begin="0.3s" repeatCount="indefinite" />
    </circle>
    <rect width="6" height="4" fill="var(--c-accent)" transform="translate(-3,-2)">
        <animateMotion dur="3.2s" begin="0.9s" repeatCount="indefinite" path="M170,395 C225,395 225,218 300,218" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.955;0.956;1" dur="3.2s" begin="0.9s" repeatCount="indefinite" />
    </rect>
    <rect width="6" height="4" fill="var(--c-accent)" transform="translate(-3,-2)">
        <animateMotion dur="3s" begin="0.5s" repeatCount="indefinite" path="M170,405 C225,405 225,224 300,224" />
        <animate attributeName="opacity" values="1;1;0;0" keyTimes="0;0.955;0.956;1" dur="3s" begin="0.5s" repeatCount="indefinite" />
    </rect>

  </svg>
</div>
